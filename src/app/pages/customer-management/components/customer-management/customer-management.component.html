<ba-card cardTitle="Customer List {{userSubTitle}}" #customer>
    <div class="row" style = "margin-left:-9px;margin-right:-9px;">
        <div class="col-sm-2">
            <input type="text" class="form-control" [(ngModel)]="customer.searchString" placeholder="Search">
        </div>
        <div class="col-md-3 head-button-container">
            <button class="btn btn-primary addCustBtn pull-right" [routerLink]="['../set-price']">
                Set Product & Price
            </button>
        </div>
        <div class="col-sm-3 head-button-container-for-add-customer">
            <button class="btn btn-primary addCustBtn pull-right" [routerLink]="['../create']">
                Add Customer
            </button>
        </div>
        <div class="col-sm-4" style="padding-top:8px;">
            <div class="row">
                <div class="col-sm-5">
                    <label>
                        <span>
                            <b>RI Customer?</b>
                        </span>
                    </label>
                </div>
                <div class="col-sm-7">
                    <label class="radioItem radio-inline custom-radio nowrap radioButtonMargin">
                        <input type="radio" name="type" [value]="1"  [(ngModel)]="riCustomer" (ngModelChange)="sequenceChangeHandler()">
                        <span>Yes</span>
                    </label>
                    <label class="radioItem radio-inline custom-radio nowrap radioButtonMargin">
                        <input type="radio" name="type" [value]="2" [(ngModel)]="riCustomer" (ngModelChange)="sequenceChangeHandler()">
                        <span>No</span>
                    </label>
                    <label class="radioItem radio-inline custom-radio nowrap radioButtonMargin">
                        <input type="radio" name="type" [value]="3" [(ngModel)]="riCustomer" (ngModelChange)="sequenceChangeHandler()">
                        <span>Both</span>
                    </label>
                </div>
            </div>
        </div>
        <div class="col-sm-4" style="padding-top:8px;">
            <div class="row">
                <div class="col-sm-1">
                    <label>
                        <span>
                            <b>Status</b>
                        </span>
                    </label>
                </div>
                <div class="col-sm-10">
                    <label class="radioItem radio-inline custom-radio nowrap radioButtonMargin">
                        <input type="radio" name="usertype" [value]="1" [(ngModel)]="isActtive" (ngModelChange)="sequenceChangeHandler()">
                        <span>Active</span>
                    </label>
                    <label class="radioItem radio-inline custom-radio nowrap radioButtonMargin">
                        <input type="radio" name="usertype" [value]="2" [(ngModel)]="isActtive" (ngModelChange)="sequenceChangeHandler()">
                        <span>Inactive</span>
                    </label>
                    <label class="radioItem radio-inline custom-radio nowrap radioButtonMargin">
                        <input type="radio" name="usertype" [value]="3" [(ngModel)]="isActtive" (ngModelChange)="sequenceChangeHandler()">
                        <span>Both</span>
                    </label>
                </div>
				
            </div>
        </div>
    <div class='col-sm-2'>
                        <pagination [tableData]="cutommers |filter:customer.searchString:['AXCustomerNumber', 'CustomerName', 'IsRICustomer', 'PaymentTypeName', 'PrimaryContact', 'CustomerTypeName'] | sort:customer.sortField:customer.isAsc "
                            [(currentPage)]="paginationData" [sortingOrder]="customer.isAsc" style="float: right;" [showPages]="false"></pagination>
                </div>
	</div>
    <div class="page-header">
        <div class="row">
            <div class="col-sm-12">
                <table class="table table-striped">
                    <thead class="tableHeader">
                        <tr>
                            <th class="table-id">Actions</th>
                            <th class="alignLeft">
                                <span style="cursor:pointer;" (click)="customer.sortField = 'AXCustomerNumber';customer.isAsc=!customer.isAsc;">
                                    Customer #
                                    <i *ngIf="(customer.sortField == 'AXCustomerNumber')" [ngClass]="(customer.isAsc && customer.sortField == 'AXCustomerNumber' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i>
                                </span>
                            </th>
                            <th class="alignLeft">
                                <span style="cursor:pointer;" (click)="customer.sortField = 'CustomerName';customer.isAsc=!customer.isAsc;">
                                    Customer Name
                                    <i *ngIf="(customer.sortField == 'CustomerName')" [ngClass]="(customer.isAsc && customer.sortField == 'CustomerName' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i>
                                </span>
                            </th>
                            <th class="text-alignment-center">
                                <span style="cursor:pointer;" (click)="customer.sortField = 'IsRICustomer';customer.isAsc=!customer.isAsc;">
                                    RI Customer
                                    <i *ngIf="(customer.sortField == 'IsRICustomer')" [ngClass]="(customer.isAsc && customer.sortField == 'IsRICustomer' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i>
                                </span>
                            </th>
                            <th class="alignLeft">
                                <span style="cursor:pointer;" (click)="customer.sortField = 'PaymentTypeName';customer.isAsc=!customer.isAsc;">
                                    Payment Type
                                    <i *ngIf="(customer.sortField == 'PaymentTypeName')" [ngClass]="(customer.isAsc && customer.sortField == 'PaymentTypeName' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i>
                                </span>
                            </th>
                            <th class="alignLeft">
                                <span style="cursor:pointer;" (click)="customer.sortField = 'PrimaryContact';customer.isAsc=!customer.isAsc;">
                                    Contact
                                    <i *ngIf="(customer.sortField == 'PrimaryContact')" [ngClass]="(customer.isAsc && customer.sortField == 'PrimaryContact' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i>
                                </span>
                            </th>
                            <th style="cursor:pointer;padding-right:20px;text-align:center;" (click)="customer.sortField = 'CustomerTypeName';customer.isAsc=!customer.isAsc;">
                                <span>
                                    Customer Type
                                    <i *ngIf="(customer.sortField == 'CustomerTypeName')" [ngClass]="(customer.isAsc && customer.sortField == 'CustomerTypeName' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i>
                                </span>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let cust of paginationData">
                            <!-- <ng-container *ngIf="cust.Active && isRI"> -->
                            <ng-container>
                                <td class="table-id text-alignment-center" style="cursor: pointer">
                                    <i class="ion-eye custom-tooltip-ion" [routerLink]="['../view', cust.CustomerId, cust.IsRICustomer?1:0]" [hidden]="!cust.IsRICustomer">
                                        <span class="tooltiptext">View</span>
                                    </i>
                                    <i class="ion-edit custom-tooltip-ion" [routerLink]="['../edit', cust.CustomerId]" style="margin-right: 5px" [hidden]="cust.IsRICustomer">
                                        <span class="tooltiptext">Edit</span>
                                    </i>
                                    <i class="ion-trash-a custom-tooltip-ion" style="margin-right: 5px" [hidden]="cust.IsRICustomer || !cust.Active" (click)="deleteCustomer(cust.CustomerId)">
                                        <span class="tooltiptext">Inactive</span>
                                    </i>
                                </td>
                                <td>{{ cust.AXCustomerNumber }}</td>
                                <td>{{ cust.CustomerName }}</td>
                                <td class="text-alignment-center">
                                    <input type="checkbox" value="" disabled [checked]=cust.IsRICustomer>
                                </td>
                                <td>{{ cust.PaymentTypeName}}</td>
                                <td>{{cust.PrimaryContact}}</td>
                                <td class="text-alignment-center">{{cust.CustomerTypeName}}</td>
                            </ng-container>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class='marginTopCenter'>
            <a>
                <img [hidden]='!showSpinner' src="assets/reddyIce/spinner.gif " width='25px'>
            </a>
        </div>
        <div *ngIf="!customers.length && !showSpinner" class='marginTopCenter'> No data found </div>
        <!--<div style='text-align:center'> <a> <img [hidden]='customers.length > 0' src="assets/reddyIce/spinner.gif " width='25px'></a> </div>-->

    </div>
</ba-card>