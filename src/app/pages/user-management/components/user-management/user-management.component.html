<!-- <div class="row page-header">
    <div class="col-md-6 padding-eater">
        <h3>Distributor:Dist 001</h3>
    </div>
    <div class="col-md-6 padding-eater">
        <button class="btn btn-primary pull-right">Create User</button>
    </div>
</div>
<div class="widgets">

  <div class="row">
    <ba-card cardTitle="User List" baCardClass="with-scroll" class="smart-table-container">
      <ng2-smart-table [settings]="settings" [source]="source"></ng2-smart-table>
    </ba-card>
  </div>

</div>
   -->
<div class="row page-header user-details">
  <div class="col-md-6" [ngClass]="{'col-md-12':!isNewCustomer, 'col-md-6':isNewCustomer}">
    <!-- <ba-card cardTitle="User List" baCardClass="with-scroll" class="smart-table-container" showAddIcon="true" (onClickAddIcon)="showNewCustomer($event)"> -->
    <ba-card cardTitle="User List" baCardClass="with-scroll" class="smart-table-container" #customer>
      <div class="row">
        <div class="col-md-12">
          <input type="text" class="form-control" [ngClass]="{'col-md-10':!isNewCustomer, 'col-md-12':isNewCustomer}" id="input01" [(ngModel)]="customer.searchString"
            placeholder="Search">
        </div>
        <div class="col-md-6 add-new-user">
          <button (click)="showNewCustomer($event)" class="btn btn-primary addCustBtn pull-right" [disabled]="isNewCustomer">
              Add User
          </button>
        </div>
      </div>
      <br>
      <div class="col-md-5 padding-eater">
        <h4>Distributor : Dist 001</h4>
      </div>
      <!-- <ng2-smart-table [settings]="settings" [source]="source" class="page-header" (edit)="onEditCliked($event)"></ng2-smart-table>  -->
      <div class="vertical-scroll">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Actions</th>
              <th *ngIf="!isNewCustomer">
                <span style="cursor:pointer;" (click)="customer.sortField = 'fname';customer.isAsc=!customer.isAsc;">
                    First Name
                    <i *ngIf="(customer.sortField === 'fname')" [ngClass]="(customer.isAsc && customer.sortField === 'fname' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i>
                </span>
              </th>
              <th *ngIf="!isNewCustomer">
                <span style="cursor:pointer;" (click)="customer.sortField = 'lname';customer.isAsc=!customer.isAsc;">
                    Last Name
                    <i *ngIf="(customer.sortField === 'lname')" [ngClass]="(customer.isAsc && customer.sortField === 'lname' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i>
                </span>
              </th>
              <th>
                <span style="cursor:pointer;" (click)="customer.sortField = 'username';customer.isAsc=!customer.isAsc;">
                    Username
                    <i *ngIf="(customer.sortField === 'username')" [ngClass]="(customer.isAsc && customer.sortField === 'username' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i>
                </span>
              </th>
              <th *ngIf="!isNewCustomer">
                <span style="cursor:pointer;" (click)="customer.sortField = 'email';customer.isAsc=!customer.isAsc;">
                    Email
                    <i *ngIf="(customer.sortField === 'email')" [ngClass]="(customer.isAsc && customer.sortField === 'email' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i>
                </span>
              </th>
              <th>
                <span style="cursor:pointer;" (click)="customer.sortField = 'phone';customer.isAsc=!customer.isAsc;">
                    Phone
                    <i *ngIf="(customer.sortField === 'phone')" [ngClass]="(customer.isAsc && customer.sortField === 'phone' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i>
                </span>
              </th>
              <th>
                <span style="cursor:pointer;" (click)="customer.sortField = 'role';customer.isAsc=!customer.isAsc;">
                    Role
                    <i *ngIf="(customer.sortField === 'role')" [ngClass]="(customer.isAsc && customer.sortField === 'role' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i>
                </span>
              </th>
              <th *ngIf="!isNewCustomer">
                <span style="cursor:pointer;" (click)="customer.sortField = 'branch';customer.isAsc=!customer.isAsc;">
                    Branch
                    <i *ngIf="(customer.sortField === 'branch')" [ngClass]="(customer.isAsc && customer.sortField === 'branch' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i>
                </span>
              </th>
              <th>
                <span style="cursor:pointer;" (click)="customer.sortField = 'riinternal';customer.isAsc=!customer.isAsc;">
                    RI Internal
                    <i *ngIf="(customer.sortField === 'riinternal')" [ngClass]="(customer.isAsc && customer.sortField === 'riinternal' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i>
                </span>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of smartTableData | filter:customer.searchString | sortCustomer:customer.sortField:customer.isAsc">
              <td class="table-id ion-edit"></td>
              <td *ngIf="!isNewCustomer">{{ item.fname }}</td>
              <td *ngIf="!isNewCustomer">{{ item.lname }}</td>
              <td>{{ item.username }}</td>
              <td *ngIf="!isNewCustomer">{{ item.email }}</td>
              <td>{{ item.phone }}</td>
              <td>{{ item.role }}</td>
              <td *ngIf="!isNewCustomer">{{ item.branch }}</td>
              <td *ngIf="item.isRiInternal">Y</td>
              <td *ngIf="!item.isRiInternal">N</td>
            </tr>
          </tbody>
        </table>
      </div>
    </ba-card>
  </div>
  <div *ngIf="isNewCustomer" class="col-lg-6 col-md-12" [ngClass]="{'col-md-12':isNewCustomer, 'col-md-6':!isNewCustomer}">
    <ba-card cardTitle="Create New User" baCardClass="with-scroll" class="smart-table-container">
      <span (click)="showNewCustomer($event)" class="ion-close-round addCustCloseIcon"></span>
      <create-user [user]="newUser" (onSaveUser)="onSaveUser($event)" (closeNewUser)="showNewCustomer($event)"></create-user>
    </ba-card>
  </div>
</div>
