<div class="row">
  <div [ngClass]="[!isNewTicket ? 'col-md-12' : 'col-md-6']">
    <ba-card cardTitle="Ticket List" baCardClass="medium-card" class="smart-table-container" (onClickAddIcon)="createNewTicket($event)"
      #customer>
      <!-- <ticket-table></ticket-table> -->
      <div class="row">
        <div class="form-group col-md-4">
          <!-- <label for="exampleInputEmail1">Date</label> -->
          <div class="input-group">
            <input class="form-control" placeholder="yyyy-mm-dd" name="dp" ngbDatepicker #d="ngbDatepicker">
            <button class="input-group-addon" (click)="d.toggle()" type="button">
              <i class="ion-calendar"></i>
              <!-- <img src="img/calendar-icon.svg" style="width: 1.2rem; height: 1rem; cursor: pointer;"/> -->
            </button>
          </div>
        </div>
        <div class="form-group col-md-4">
          <!-- <label for="exampleSelect1">Branch</label> -->
          <select class="form-control" id="exampleSelect1">
              <option *ngFor="let obj of allBranches" [value]="obj.value">{{obj.BranchID}}-{{obj.BranchName}}</option>
            <!-- <option>312</option> -->
          </select>
        </div>
        <div class="col-md-4">
          <button (click)="createNewTicket(1)" class="btn btn-primary addCustBtn pull-right" [disabled]="isNewTicket">
              Create Ticket
          </button>
        </div>
      </div>
      <div class="col-md-6">
        <div class="radioList">
          <label class="radioItem radio-inline custom-radio nowrap">
            <input type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1" checked>
            <span>My Tickets</span>
          </label>
          <label class="radioItem radio-inline custom-radio nowrap">
            <input type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
            <span [hidden] = "showAllTicketsRadioButton">All Tickets</span>
          </label>
        </div>
      </div>
      <br>
      <!-- <ng2-smart-table [settings]="settings1" [source]="source1" (edit)="onEditCliked($event)"></ng2-smart-table>  -->
      <div class="vertical-scroll">
        <table class="table table-striped">
          <thead>
            <tr>
              <!-- <th>Select</th> -->
              <th>Select</th>
              <th class="table-id" *ngIf="!isNewTicket">Actions</th>
              <th>
                <span style="cursor:pointer;" (click)="customer.sortField = 'TicketID';customer.isAsc=!customer.isAsc;">
                    Ticket #
                     <i *ngIf="(customer.sortField == 'TicketID')" [ngClass]="(customer.isAsc && customer.sortField == 'TicketID' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i> 
                </span>
              </th>
              <th>
                <span style="cursor:pointer;" (click)="customer.sortField = 'CustomerID';customer.isAsc=!customer.isAsc;">
                    Customer #
                    <i *ngIf="(customer.sortField == 'CustomerID')" [ngClass]="(customer.isAsc && customer.sortField == 'CustomerID' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i> 
                </span>
              </th>
              <th>
                <span style="cursor:pointer;" (click)="customer.sortField = 'CashAmount';customer.isAsc=!customer.isAsc;">
                    Amount
                    <i *ngIf="(customer.sortField == 'CashAmount')" [ngClass]="(customer.isAsc && customer.sortField == 'CashAmount' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i> 
                </span>
              </th>
              <th (click)="customer.sortField = 'CardPaymentStatus';customer.isAsc=!customer.isAsc;">
                <span style="cursor:pointer;">
                    Status
                    <i *ngIf="(customer.sortField == 'CardPaymentStatus')" [ngClass]="(customer.isAsc && customer.sortField == 'CardPaymentStatus' ? 'fa fa-chevron-up' : 'fa fa-chevron-down')"></i> 
                </span>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of smartTableData | sort:customer.sortField:customer.isAsc">
              <!-- <td><input type="checkbox" value="Select"></td> -->
              <td>
                <input type="checkbox" name="manualTicketMultiSelect">
              </td>
              <td class="table-id" style="cursor: pointer" *ngIf="!isNewTicket">
                <i class="ion-eye custom-tooltip-ion" style="margin-right: 5px" (click)="createNewTicket(3)">
                    <span class="tooltiptext">View</span>
                  </i>
                <i class="ion-edit custom-tooltip-ion" style="margin-right: 5px" (click)="createNewTicket(2)">
                    <span class="tooltiptext">Edit</span>
                  </i>
                <i class="ion-trash-a custom-tooltip-ion">
                    <span class="tooltiptext">Delete</span>
                  </i>
              </td>
              <td>{{ item.TicketID }}</td>
              <td>{{ item.Customer.CustomerID }}</td>
              <td>{{ item.CashAmount }}</td>
              <td>{{ item.CardPaymentStatus }}</td>
            </tr>
          </tbody>
        </table>
        <div style='text-align:center'>
          <!-- <a> <img [hidden]='smartTableData.length > 0' src="assets/reddyIce/spinner.gif " width='25px'></a>  -->
        </div>
        <pagination [tableData]="smartTableData" [(currentPage)]="smartTableData"></pagination>
      </div>
    </ba-card>
  </div>
  <div *ngIf="isNewTicket && showCreateTicketPanel" [ngClass]="{'col-md-6':isNewTicket}">
    <ba-card cardTitle="{{cardTitle}}" baCardClass="with-scroll" class="smart-table-container">
      <span (click)="createNewTicket($event)" class="ion-close-round addCustCloseIcon"></span>
      <create-new-ticket></create-new-ticket>
    </ba-card>
  </div>
  <div *ngIf="isNewTicket && showViewTicketPanel" [ngClass]="{'col-md-6':isNewTicket}">
      <ba-card cardTitle="View Ticket Details" baCardClass="with-scroll" class="smart-table-container">
        <span (click)="createNewTicket($event)" class="ion-close-round addCustCloseIcon"></span>
        <view-ticket-details></view-ticket-details>
      </ba-card>
    </div>
</div>